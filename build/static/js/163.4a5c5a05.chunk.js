"use strict";(self.webpackChunkstar_mealz=self.webpackChunkstar_mealz||[]).push([[163],{4406:function(e,n,t){t.d(n,{Z:function(){return Z}});var l,r,a,i,s,c,d,o,u,h,f,x,g,p,m,j,v=t(2791),M=["title","titleId"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},E.apply(this,arguments)}function w(e,n){if(null==e)return{};var t,l,r=function(e,n){if(null==e)return{};var t,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)t=a[l],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)t=a[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function y(e,n){var t=e.title,y=e.titleId,S=w(e,M);return v.createElement("svg",E({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 489 489",style:{enableBackground:"new 0 0 489 489"},xmlSpace:"preserve",ref:n,"aria-labelledby":y},S),void 0===t?v.createElement("title",{id:y},"add meal"):t?v.createElement("title",{id:y},t):null,l||(l=v.createElement("g",null,v.createElement("g",null,v.createElement("path",{d:"M417.4,71.6C371.2,25.4,309.8,0,244.5,0S117.8,25.4,71.6,71.6S0,179.2,0,244.5s25.4,126.7,71.6,172.9S179.2,489,244.5,489 s126.7-25.4,172.9-71.6S489,309.8,489,244.5S463.6,117.8,417.4,71.6z M244.5,462C124.6,462,27,364.4,27,244.5S124.6,27,244.5,27 S462,124.6,462,244.5S364.4,462,244.5,462z"}),v.createElement("path",{d:"M301.6,188.1l-84.1,84.2l-30.1-30.1c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1L208,301c2.6,2.6,6.1,4,9.5,4 s6.9-1.3,9.5-4l93.7-93.7c5.3-5.3,5.3-13.8,0-19.1C315.5,182.8,306.9,182.8,301.6,188.1z"})))),r||(r=v.createElement("g",null)),a||(a=v.createElement("g",null)),i||(i=v.createElement("g",null)),s||(s=v.createElement("g",null)),c||(c=v.createElement("g",null)),d||(d=v.createElement("g",null)),o||(o=v.createElement("g",null)),u||(u=v.createElement("g",null)),h||(h=v.createElement("g",null)),f||(f=v.createElement("g",null)),x||(x=v.createElement("g",null)),g||(g=v.createElement("g",null)),p||(p=v.createElement("g",null)),m||(m=v.createElement("g",null)),j||(j=v.createElement("g",null)))}var S,b,A=v.forwardRef(y),_=(t.p,t(168)),I=t(6031),O=t(3910),C=t(7738),H=t(9330),k=I.ZP.div(S||(S=(0,_.Z)(["\n    \n\n    svg{\n        fill: ",";\n        width: 28px;\n        height: 28px;\n       cursor: pointer;\n       display: none;\n       @media ","{\n            display: none;\n        }\n    }\n"])),C.R.green,O.U.desktop),D=(0,I.ZP)(H.Z)(b||(b=(0,_.Z)(["\n    display: block;\n    background-color: ",";\n    color: ",";\n  \n  width: 100%;\n\n  &:hover{\n      opacity: 1;\n  }\n"])),C.R.blue,C.R.white),N=t(184),Z=function(e){return(0,N.jsxs)(k,{children:[(0,N.jsx)(A,{type:"submit"}),(0,N.jsx)(D,{type:"submit",children:"Add Meal"})]})}},8163:function(e,n,t){t.r(n);var l=t(4165),r=t(5861),a=t(885),i=t(2791),s=t(3359),c=t(2132),d=t(7910),o=t(694),u=t(5180),h=t(448),f=t(8584),x=t(3330),g=t(4406),p=t(8269),m=t(184);n.default=function(){var e,n,t,j,v=(0,i.useContext)(s.K),M=v.finishAddingMeal,E=v.UiToggleHelper,w=v.showAddMealModal,y=v.showMealSearch,S=v.showInitialAddMealModal,b=(0,i.useContext)(f.B),A=b.foodAddingValues,_=b.addMeal,I=b.verified,O=b.feedBackMessage,C=(0,i.useContext)(c.V).userId,H=(0,i.useState)(1),k=(0,a.Z)(H,2),D=k[0],N=k[1],Z=(0,i.useContext)(p.h).updateDatabase,L=function(){E(u.H.SHOW_FINISH_ADDING_MEAL,M),E(u.H.SHOW_MEAL_SEARCH,y)},W=function(){var e=(0,r.Z)((0,l.Z)().mark((function e(t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!A.selectedMeal){e.next=6;break}return r={id:A.selectedMeal.fdcId,totalCalories:n,totalWeight:j,serving:D,day:A.selectedMealDay,occasion:A.selectedOccasion,mealInfo:A.selectedMeal},console.log(r),e.next=6,_(C,r).then((function(e){Z(C)}));case 6:N(1),E(u.H.SHOW_FINISH_ADDING_MEAL,M),E(u.H.SHOW_INITIAL_ADD_MEAL_MODAL,S);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if(A.selectedMeal){var P,F=A.selectedMeal.foodNutrients.filter((function(e){return"Energy"===e.nutrientName}));n=F.reduce((function(e,n){return n.value}),[]),j=(null===(P=A.selectedMeal.servingSize)||void 0===P?void 0:P.toFixed(1))||A.selectedMeal.foodMeasures.reduce((function(e,n){var t;return null===(t=n.gramWeight)||void 0===t?void 0:t.toFixed(1)}),0)}return A.selectedMeal&&(t=A.selectedMeal.foodNutrients.map((function(e){return(0,m.jsx)(d.g6,{children:(0,m.jsxs)(d._s,{children:[(0,m.jsx)(d.BP,{children:e.nutrientName}),(0,m.jsxs)(d.cf,{children:[e.value," ",e.unitName]})]})},e.nutrientId)})),e=(0,m.jsxs)(d.xC,{as:o.Z,show:M,close:L,children:[(0,m.jsxs)(d.Dw,{children:[(0,m.jsx)(x.Z,{onClick:function(){E(u.H.SHOW_FINISH_ADDING_MEAL,M),E(u.H.SHOW_ADD_MEAL_MODAL,w)}}),(0,m.jsx)(d.Mv,{children:A.selectedMeal?A.selectedMeal.description.toLowerCase():"Meal"}),(0,m.jsx)(d.UC,{children:(0,m.jsx)(h.r,{onClick:L})})]}),(0,m.jsxs)(d.gE,{onSubmit:W,children:[(0,m.jsxs)(d.fT,{children:[(0,m.jsxs)(d.H2,{children:[(0,m.jsx)(d.Ui,{required:!0,type:"number",value:D,onChange:function(e){N(e.target.value)},placeholder:"serving"}),(0,m.jsx)(d.nK,{children:"Serving"})]}),(0,m.jsxs)(d.d9,{children:[(0,m.jsxs)(d.hT,{children:[(0,m.jsx)(d.fP,{children:"Weight: "})," ",(0,m.jsxs)(d.yA,{children:[A.selectedMeal?j*D:"1",(0,m.jsx)("span",{children:" g"})]})]}),(0,m.jsxs)(d.hT,{children:[(0,m.jsx)(d.fP,{children:"Total Calories: "})," ",(0,m.jsxs)(d.yA,{children:[A.selectedMeal?n.toFixed(1)*D:"1",(0,m.jsx)("span",{children:" kcal"})]})]})]})]}),A.selectedMeal&&(0,m.jsxs)(d.mL,{children:[(0,m.jsx)(d.Yr,{children:"Nutritional  Information"}),t]}),I?(0,m.jsx)(d.Dg,{children:O}):(0,m.jsx)(d.F6,{children:O}),(0,m.jsx)(d.ql,{children:(0,m.jsx)(g.Z,{})})]})]})),e}}}]);
//# sourceMappingURL=163.4a5c5a05.chunk.js.map